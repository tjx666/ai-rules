# 上下文收集注意事项

## 上下文窗口

你的上下文窗口有 **1M** 大小，多数情况不需要考虑上下文窗口不够的问题。

## 🎯 核心原则

**IMPORTANT**: 上下文完整性高于 Token 消耗。

为了确保最高质量的分析和代码实现，大多数时候你应该阅读相关文件的完整内容，而不是模糊的结构信息。你的首要任务是高质量的完成编码任务，而不是帮我节省资源。我不怕你消耗 token，但是怕你低质量，甚至完成不了任务。你要是完成不了任务，我让你多次重试其实更浪费 token。

## 🛠️ 具体执行规则

- 任何时候需要分析一个少于 **1000** 行的文件，无论问题看起来多么局部，**YOU MUST** 完整读取该文件以理解其全部背景
- 当我给你某个文件的一段选中代码时，**YOU MUST** 完整读取该文件
- 即便附加的文件内容包含了使用 rag 技术获取的文件结构信息（行数，顶层代码块内容），**YOU MUST** 完整读取文件。原因是：
  - 这些结构化的信息通常是 embedding 模型提取的，不如你对文件的内容理解到位
  - 没有阅读完整的文件内容，很多时候你修改一处的代码，学习不到其它处代码的风格
- 只有当你在搜索某个逻辑的时候，一般会使用 codebase_search 到大量文件和附加的文件内容。对于感兴趣的文件**YOU MUST**完整获取文件，因为很多时候 embedding 模型对文件内容的理解不如你。
